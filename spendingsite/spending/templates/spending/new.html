{% extends "spending/base.html" %}

{% block content %}
  <div class="row ml-3">
    <div class="col-md-6">
      <h3> Create new expense </h3>
      <br>
      <form action="{% url 'spending:create' %}" method="post">
        {% csrf_token %}
        <div class="form-group">
          <label for="description">Description</label>
          <input type="text" class="form-control" id="description" name="description">
        </div>
        <div class="form-group">
          <label for="how_much">Cost</label>
          <input type="text" class="form-control" id="how_much" name="how_much">
        </div>
        <div class="form-group"> <!-- Date input -->
          <label class="control-label" for="date">When</label>
          <input class="form-control" id="when" name="when" placeholder="DD/MM/YYYY" type="text"/>
        </div>
        <button type="submit" class="btn btn-primary">Add expense</button>
      </form>
    </div>
  </div>
  <script>
    $(document).ready(function(){
      var date_input=$('input[name="date"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'dd/mm/yyyy',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      date_input.datepicker(options);
    })
</script>
{% endblock %}